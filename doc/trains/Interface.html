<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_37) on Thu Jan 24 12:33:45 CET 2013 -->
<TITLE>
Interface
</TITLE>

<META NAME="date" CONTENT="2013-01-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Interface";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Interface.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../trains/CircuitView.html" title="class in trains"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../trains/Message.html" title="class in trains"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?trains/Interface.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Interface.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
trains</FONT>
<BR>
Class Interface</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>trains.Interface</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>Interface</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Main interface to access native methods of TrainsProtocol.
 It contains methods wrappers for the native functions of interface.c and some additionnal
 methods which are necessary to perform the trains protocol.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Stephanie Ouillon</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#max_memb">max_memb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Maximum number of members in the protocol</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#myAddress">myAddress</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Address of the current process in the train protocol</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../trains/Interface.html#Interface()">Interface</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#getMax_Memb()">getMax_Memb</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the value of <A HREF="../trains/Interface.html#max_memb"><CODE>max_memb</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#getMAX_MEMB()">getMAX_MEMB</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#JgetMAX_MEMB()"><CODE>JgetMAX_MEMB()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#getMyAddress()">getMyAddress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#JgetMyAddress()"><CODE>JgetMyAddress()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#initIDs()">initIDs</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calls native functions to cache field and method IDs which are repeatedly used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#initIDsCircuitView()">initIDsCircuitView</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native static initializer for the CircuitView class (caching IDs).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#initIDsMessage()">initIDsMessage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native static initializer for the Message class (caching IDs).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#initIDsMessageHeader()">initIDsMessageHeader</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native static initializer for the MessageHeader class (caching IDs).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#JgetMAX_MEMB()">JgetMAX_MEMB</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the value of the native global variable MAX_MEMB, that will be
 put in <A HREF="../trains/Interface.html#max_memb"><CODE>max_memb</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#JgetMyAddress()">JgetMyAddress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the value of the native global variable <A HREF="../trains/Interface.html#myAddress"><CODE>myAddress</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#Jnewmsg(int, byte[])">Jnewmsg</A></B>(int&nbsp;payloadSize,
        byte[]&nbsp;payload)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allocates a new message to be sent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#JtrError_at_line(int, int)">JtrError_at_line</A></B>(int&nbsp;status,
                 int&nbsp;errnum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Never used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#JtrInit(int, int, int, int, java.lang.String, java.lang.String)">JtrInit</A></B>(int&nbsp;trainsNumber,
        int&nbsp;wagonLength,
        int&nbsp;waitNb,
        int&nbsp;waitTime,
        java.lang.String&nbsp;callbackCircuitChange,
        java.lang.String&nbsp;callbackUtoDeliver)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the trains protocol middleware.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#JtrPerror(int)">JtrPerror</A></B>(int&nbsp;errnum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Never used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#JtrTerminate()">JtrTerminate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should terminates the trains protocol but does nothing else than always returning 0.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#JutoBroadcast(trains.Message)">JutoBroadcast</A></B>(<A HREF="../trains/Message.html" title="class in trains">Message</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends the message previously allocated on the train by newmsg.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#newmsg(int, byte[])">newmsg</A></B>(int&nbsp;payloadSize,
       byte[]&nbsp;payload)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#Jnewmsg(int, byte[])"><CODE>Jnewmsg()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../trains/Interface.html" title="class in trains">Interface</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#trainsInterface()">trainsInterface</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads the native library "trains" and performs some initializing stuff through
 <A HREF="../trains/Interface.html#initIDs()"><CODE>initIDs()</CODE></A> and <A HREF="../trains/Interface.html#JgetMAX_MEMB()"><CODE>JgetMAX_MEMB</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#trError_at_line(int, int)">trError_at_line</A></B>(int&nbsp;status,
                int&nbsp;errnum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#JtrError_at_line(int, int)"><CODE>JtrError_at_line()</CODE></A></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#trInit(int, int, int, int, java.lang.String, java.lang.String)">trInit</A></B>(int&nbsp;trainsNumber,
       int&nbsp;wagonLength,
       int&nbsp;waitNb,
       int&nbsp;waitTime,
       java.lang.String&nbsp;callbackCircuitChange,
       java.lang.String&nbsp;callbackUtoDeliver)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#trInit(int, int, int, int, java.lang.String, java.lang.String)"><CODE>JtrInit()</CODE></A></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#trPerror(int)">trPerror</A></B>(int&nbsp;errnum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#JtrPerror(int)"><CODE>JtrPerror()</CODE></A></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#trTerminate()">trTerminate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#JtrTerminate()"><CODE>JtrTerminate()</CODE></A></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../trains/Interface.html#utoBroadcast(trains.Message)">utoBroadcast</A></B>(<A HREF="../trains/Message.html" title="class in trains">Message</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Native function, see <A HREF="../trains/Interface.html#JutoBroadcast(trains.Message)"><CODE>JutoBroadcast()</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="max_memb"><!-- --></A><H3>
max_memb</H3>
<PRE>
private static int <B>max_memb</B></PRE>
<DL>
<DD>Maximum number of members in the protocol
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="myAddress"><!-- --></A><H3>
myAddress</H3>
<PRE>
private static int <B>myAddress</B></PRE>
<DL>
<DD>Address of the current process in the train protocol
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Interface()"><!-- --></A><H3>
Interface</H3>
<PRE>
public <B>Interface</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="trInit(int, int, int, int, java.lang.String, java.lang.String)"><!-- --></A><H3>
trInit</H3>
<PRE>
public int <B>trInit</B>(int&nbsp;trainsNumber,
                  int&nbsp;wagonLength,
                  int&nbsp;waitNb,
                  int&nbsp;waitTime,
                  java.lang.String&nbsp;callbackCircuitChange,
                  java.lang.String&nbsp;callbackUtoDeliver)</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#trInit(int, int, int, int, java.lang.String, java.lang.String)"><CODE>JtrInit()</CODE></A>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>trainsNumber</CODE> - <DD><CODE>wagonLength</CODE> - <DD><CODE>waitNb</CODE> - <DD><CODE>waitTime</CODE> - <DD><CODE>callbackCircuitChange</CODE> - <DD><CODE>callbackUtoDeliver</CODE> - 
<DT><B>Returns:</B><DD>0 upon successful completion, or -1 if an error occurred</DL>
</DD>
</DL>
<HR>

<A NAME="trError_at_line(int, int)"><!-- --></A><H3>
trError_at_line</H3>
<PRE>
public void <B>trError_at_line</B>(int&nbsp;status,
                            int&nbsp;errnum)</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#JtrError_at_line(int, int)"><CODE>JtrError_at_line()</CODE></A>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - <DD><CODE>errnum</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="trPerror(int)"><!-- --></A><H3>
trPerror</H3>
<PRE>
public void <B>trPerror</B>(int&nbsp;errnum)</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#JtrPerror(int)"><CODE>JtrPerror()</CODE></A>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>errnum</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="trTerminate()"><!-- --></A><H3>
trTerminate</H3>
<PRE>
public int <B>trTerminate</B>()</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#JtrTerminate()"><CODE>JtrTerminate()</CODE></A>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>always 0</DL>
</DD>
</DL>
<HR>

<A NAME="newmsg(int, byte[])"><!-- --></A><H3>
newmsg</H3>
<PRE>
public int <B>newmsg</B>(int&nbsp;payloadSize,
                  byte[]&nbsp;payload)</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#Jnewmsg(int, byte[])"><CODE>Jnewmsg()</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>payloadSize</CODE> - <DD><CODE>payload</CODE> - 
<DT><B>Returns:</B><DD>0 on success</DL>
</DD>
</DL>
<HR>

<A NAME="utoBroadcast(trains.Message)"><!-- --></A><H3>
utoBroadcast</H3>
<PRE>
public int <B>utoBroadcast</B>(<A HREF="../trains/Message.html" title="class in trains">Message</A>&nbsp;msg)</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#JutoBroadcast(trains.Message)"><CODE>JutoBroadcast()</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - 
<DT><B>Returns:</B><DD>0 on success</DL>
</DD>
</DL>
<HR>

<A NAME="getMAX_MEMB()"><!-- --></A><H3>
getMAX_MEMB</H3>
<PRE>
private static int <B>getMAX_MEMB</B>()</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#JgetMAX_MEMB()"><CODE>JgetMAX_MEMB()</CODE></A>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>MAX_MEMB</DL>
</DD>
</DL>
<HR>

<A NAME="getMyAddress()"><!-- --></A><H3>
getMyAddress</H3>
<PRE>
private static int <B>getMyAddress</B>()</PRE>
<DL>
<DD>Native function, see <A HREF="../trains/Interface.html#JgetMyAddress()"><CODE>JgetMyAddress()</CODE></A>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>myAddress</DL>
</DD>
</DL>
<HR>

<A NAME="initIDsMessageHeader()"><!-- --></A><H3>
initIDsMessageHeader</H3>
<PRE>
private static void <B>initIDsMessageHeader</B>()</PRE>
<DL>
<DD>Native static initializer for the MessageHeader class (caching IDs).
 See <A HREF="../trains/Interface.html#initIDs()"><CODE>initIDs()</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initIDsMessage()"><!-- --></A><H3>
initIDsMessage</H3>
<PRE>
private static void <B>initIDsMessage</B>()</PRE>
<DL>
<DD>Native static initializer for the Message class (caching IDs).
 See <A HREF="../trains/Interface.html#initIDs()"><CODE>initIDs()</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initIDsCircuitView()"><!-- --></A><H3>
initIDsCircuitView</H3>
<PRE>
private static void <B>initIDsCircuitView</B>()</PRE>
<DL>
<DD>Native static initializer for the CircuitView class (caching IDs).
 See <A HREF="../trains/Interface.html#initIDs()"><CODE>initIDs()</CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="trainsInterface()"><!-- --></A><H3>
trainsInterface</H3>
<PRE>
public static <A HREF="../trains/Interface.html" title="class in trains">Interface</A> <B>trainsInterface</B>()</PRE>
<DL>
<DD>Loads the native library "trains" and performs some initializing stuff through
 <A HREF="../trains/Interface.html#initIDs()"><CODE>initIDs()</CODE></A> and <A HREF="../trains/Interface.html#JgetMAX_MEMB()"><CODE>JgetMAX_MEMB</CODE></A>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Interface</DL>
</DD>
</DL>
<HR>

<A NAME="initIDs()"><!-- --></A><H3>
initIDs</H3>
<PRE>
public static void <B>initIDs</B>()</PRE>
<DL>
<DD>Calls native functions to cache field and method IDs which are repeatedly used.
 One instance of MessageHeader, Message and CircuitView each is created to be used both
 in Java and C.
 
 These functions are declared static so that looking up the IDs and instantiating 
 the objects happen only once when the trains library is loaded.
 Using such static initializers have several advantages over caching IDs at the point of use.
 There is no need to check whether an ID has already been cached or not. This avoids duplication 
 caching and checking. Also, in case a class is unloaded and later reloaded, the cached IDs will 
 automatically recalculated.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="JgetMAX_MEMB()"><!-- --></A><H3>
JgetMAX_MEMB</H3>
<PRE>
public static int <B>JgetMAX_MEMB</B>()</PRE>
<DL>
<DD>Returns the value of the native global variable MAX_MEMB, that will be
 put in <A HREF="../trains/Interface.html#max_memb"><CODE>max_memb</CODE></A>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the value of MAX_MEMB (native variable)</DL>
</DD>
</DL>
<HR>

<A NAME="JgetMyAddress()"><!-- --></A><H3>
JgetMyAddress</H3>
<PRE>
public static int <B>JgetMyAddress</B>()</PRE>
<DL>
<DD>Returns the value of the native global variable <A HREF="../trains/Interface.html#myAddress"><CODE>myAddress</CODE></A>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the value of <A HREF="../trains/Interface.html#myAddress"><CODE>myAddress</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getMax_Memb()"><!-- --></A><H3>
getMax_Memb</H3>
<PRE>
public static int <B>getMax_Memb</B>()</PRE>
<DL>
<DD>Return the value of <A HREF="../trains/Interface.html#max_memb"><CODE>max_memb</CODE></A>.
 This is a function to be used by the Java application to access this value.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the value of <A HREF="../trains/Interface.html#max_memb"><CODE>max_memb</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="JtrInit(int, int, int, int, java.lang.String, java.lang.String)"><!-- --></A><H3>
JtrInit</H3>
<PRE>
public int <B>JtrInit</B>(int&nbsp;trainsNumber,
                   int&nbsp;wagonLength,
                   int&nbsp;waitNb,
                   int&nbsp;waitTime,
                   java.lang.String&nbsp;callbackCircuitChange,
                   java.lang.String&nbsp;callbackUtoDeliver)</PRE>
<DL>
<DD>Initializes the trains protocol middleware. This method needs to be called before any other
 actions in the trains protocol (sending or receiving messages). This method wraps the native function
 trInit().
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>trainsNumber</CODE> - the number of trains on the circuit; when set to 0, uses the default value 1<DD><CODE>wagonLength</CODE> - the length of the wagons in the train; when set to 0, uses the default value 32KB<DD><CODE>waitNb</CODE> - the number of time to wait; when set to 0, uses the default value 10<DD><CODE>waitTime</CODE> - time to wait (in microsecond); when set to 0, uses the default value 2<DD><CODE>callbackCircuitChange</CODE> - name of the callback class to be called when there is a circuit change (Arrival or departure of a process)<DD><CODE>callbackUtoDeliver</CODE> - name of the callback class be called when a message can be uto-delivered by the trains protocol
<DT><B>Returns:</B><DD>0 upon successful completion, or -1 if an error occurred</DL>
</DD>
</DL>
<HR>

<A NAME="JtrError_at_line(int, int)"><!-- --></A><H3>
JtrError_at_line</H3>
<PRE>
public void <B>JtrError_at_line</B>(int&nbsp;status,
                             int&nbsp;errnum)</PRE>
<DL>
<DD>Never used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - <DD><CODE>errnum</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="JtrPerror(int)"><!-- --></A><H3>
JtrPerror</H3>
<PRE>
public void <B>JtrPerror</B>(int&nbsp;errnum)</PRE>
<DL>
<DD>Never used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>errnum</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="JtrTerminate()"><!-- --></A><H3>
JtrTerminate</H3>
<PRE>
public int <B>JtrTerminate</B>()</PRE>
<DL>
<DD>Should terminates the trains protocol but does nothing else than always returning 0.
 Wrapping method of trTerminate.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>always 0</DL>
</DD>
</DL>
<HR>

<A NAME="Jnewmsg(int, byte[])"><!-- --></A><H3>
Jnewmsg</H3>
<PRE>
public int <B>Jnewmsg</B>(int&nbsp;payloadSize,
                   byte[]&nbsp;payload)</PRE>
<DL>
<DD>Allocates a new message to be sent.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>payloadSize</CODE> - size of the content of the message<DD><CODE>payload</CODE> - content of the message
<DT><B>Returns:</B><DD>0 on success</DL>
</DD>
</DL>
<HR>

<A NAME="JutoBroadcast(trains.Message)"><!-- --></A><H3>
JutoBroadcast</H3>
<PRE>
public int <B>JutoBroadcast</B>(<A HREF="../trains/Message.html" title="class in trains">Message</A>&nbsp;msg)</PRE>
<DL>
<DD>Sends the message previously allocated on the train by newmsg.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - message to be sent
<DT><B>Returns:</B><DD>0 on success</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Interface.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../trains/CircuitView.html" title="class in trains"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../trains/Message.html" title="class in trains"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?trains/Interface.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Interface.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
